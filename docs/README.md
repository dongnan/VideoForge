# VideoForge 文档

这个目录包含了 VideoForge 的详细文档和优化说明。

## 📚 文档目录

### 核心功能文档

#### 1. [分辨率优化说明](分辨率优化说明.md)
**内容**: 2K/4K 分辨率支持和横竖屏识别优化

**关键特性**:
- ✅ 新增 2K/4K 分辨率支持
- ✅ 使用短边判断分辨率（兼容横竖屏）
- ✅ 精准的码率估算表
- ✅ 自动识别方向的分辨率调整

**适用场景**:
- 处理混合分辨率的视频
- 转码竖屏视频（手机拍摄）
- 4K/2K 视频降分辨率

---

#### 2. [智能预估优化说明](智能预估优化说明.md)
**内容**: 转码前文件大小预估算法

**关键特性**:
- ✅ 基于码率和时长的预估算法
- ✅ 转码前判断是否值得处理
- ✅ 避免无效转码，节省时间

**性能提升**:
- 处理时间：60小时 → 3小时（**20倍**）
- 实际转码：4,541个 → 2个（**99.96%减少**）

---

#### 3. [性能优化总结](性能优化总结.md)
**内容**: VideoForge 的性能优化历程和效果

**优化成果**:
- ✅ 智能跳过功能
- ✅ 预估算法优化
- ✅ 批量处理优化
- ✅ CPU/内存使用优化

**实际效果**:
```
处理 4,541 个视频
- 旧版: 60 小时
- 新版: 3 小时
节省: 57 小时 (95%)
```

---

#### 4. [转码优化说明](转码优化说明.md)
**内容**: 视频转码的优化策略和最佳实践

**主要内容**:
- 编码参数选择
- 质量与文件大小平衡
- 不同场景的推荐配置

---

#### 5. [转码进度报告](转码进度报告.md)
**内容**: 实际转码任务的进度和统计数据

**包含信息**:
- 处理进度统计
- 文件大小变化
- 时间消耗分析
- 问题和解决方案

---

## 🎯 快速导航

### 按使用场景

#### 我想处理 4K/2K 视频
→ 阅读 [分辨率优化说明](分辨率优化说明.md)

#### 我想提高处理速度
→ 阅读 [智能预估优化说明](智能预估优化说明.md) 和 [性能优化总结](性能优化总结.md)

#### 我想了解如何选择参数
→ 阅读 [转码优化说明](转码优化说明.md)

#### 我想看实际使用案例
→ 查看 [转码进度报告](转码进度报告.md)

---

### 按功能特性

#### 智能跳过功能
1. [智能预估优化说明](智能预估优化说明.md) - 算法原理
2. [性能优化总结](性能优化总结.md) - 性能提升
3. [转码进度报告](转码进度报告.md) - 实际效果

#### 分辨率处理
1. [分辨率优化说明](分辨率优化说明.md) - 完整说明
2. [转码优化说明](转码优化说明.md) - 参数选择

#### 性能优化
1. [性能优化总结](性能优化总结.md) - 优化历程
2. [智能预估优化说明](智能预估优化说明.md) - 核心优化

---

## 📊 技术细节

### 码率估算表

详见 [分辨率优化说明](分辨率优化说明.md#码率估算优化)

**H.264 编码** (CRF 23):
| 分辨率 | 码率 |
|--------|------|
| 4K     | 12 Mbps |
| 2K     | 6 Mbps |
| 1080p  | 3 Mbps |
| 720p   | 2 Mbps |

**H.265 编码** (CRF 23, 节省40%):
| 分辨率 | 码率 |
|--------|------|
| 4K     | 7 Mbps |
| 2K     | 3.5 Mbps |
| 1080p  | 1.8 Mbps |
| 720p   | 1.2 Mbps |

### 预估算法

详见 [智能预估优化说明](智能预估优化说明.md)

```python
# 预估转码后文件大小
estimated_size = (target_bitrate * duration / 8) * 1.1

# 判断是否跳过
if estimated_size >= current_size * 0.95:
    return True  # 跳过转码
```

---

## 🔄 版本历史

### v2.2.0 (2025-11-09)
- ✅ 新增 2K/4K 分辨率支持
- ✅ 优化横竖屏识别（使用短边判断）
- ✅ 重构项目结构（examples/tests/docs 分离）

### v2.1.0 (2025-11-09)
- ✅ 新增智能预估功能
- ✅ 优化码率估算算法
- ✅ 性能提升 20 倍

### v2.0.0 (2025-11-08)
- ✅ 新增智能跳过功能
- ✅ 改进监控脚本
- ✅ H.264 编码支持（QuickTime 兼容）

---

## 🤝 贡献文档

欢迎贡献新的文档！

### 文档模板

```markdown
# 标题

## 问题描述
描述要解决的问题...

## 解决方案
详细说明解决方案...

## 技术实现
关键代码和算法...

## 测试验证
测试方法和结果...

## 使用示例
实际使用案例...
```

---

## 📝 文档维护

### 更新文档
1. 修改对应的 Markdown 文件
2. 更新版本号和日期
3. 在 CHANGELOG.md 中记录变更

### 添加新文档
1. 在 `docs/` 目录创建新的 .md 文件
2. 在本 README 中添加链接
3. 更新快速导航部分

---

**文档维护者**: VideoForge Team  
**最后更新**: 2025-11-09  
**版本**: v2.2.0
